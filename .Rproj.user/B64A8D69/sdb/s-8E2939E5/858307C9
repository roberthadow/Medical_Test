{
    "contents" : "---\ntitle       : Home Medical Tests\nsubtitle    : Should I trust my e.p.t. or HIV test?\nauthor      : Robert Hadow\njob         : DevDataProd\nframework   : html5slides   # {io2012, html5slides, shower, dzslides, ...}\nhighlighter : highlight.js  # {highlight.js, prettify, highlight}\nhitheme     : tomorrow      # \nwidgets     : [mathjax]            # {mathjax, quiz, bootstrap}\nmode        : selfcontained # {standalone, draft}\nknit        : slidify::knit2slides\n---\n\n## Should I trust my e.p.t. or HIV test?\n\nWe built a simple two-dropdown interface for users to evaluate the practical meaning of medical tests. It has hover help.\n\n![Pregnancy](Pregnancy.png)\n\n```{r preprocess, echo=FALSE}\n\nfigDir <- \"figures/\"\nopts_chunk$set(fig.path = figDir)\n\nif(!file.exists(\"tree\")) dir.create(\"tree\")\nif(!file.exists(\"tree/gh-pages\")) dir.create(\"tree/gh-pages\")\nreactive <- function(x) x  # for demo pruposes only\n\ntest <- c(\"Mammogram\",\"PSA\",\"HIV\")\nprev <- c(0.01,.01,.003)\nsens <- c(.678,.631, .95)\nspec <- c(.75,.349,.95)\ntest <- data.frame(test, prev, sens, spec, stringsAsFactors = FALSE)\nrm(prev, sens, spec)\n\ninput <- output  <- test[1,]\ncolnames(output) <- c(\"uote\", \"uopr\", \"uose\", \"uosp\")\ncolnames(input)  <- c(\"uite\", \"uipr\", \"uise\", \"uisp\")\n      \n```\n        \n\n\n--- \n\n## We built a straighforward, boring, text-only interface to calculate positive and negative predictive values of diagnostic tests.  For three common tests, mammography, HIV and PSA, the interface asks only two questions:\n\n* Test\n* Result  \n\nFor interested users, the input area expands, allowing an input of specific factors.\n\n* Prevalence of Condition\n* Test Sensitivity\n* Test Specificity\n\n--- \n\n## Behind the scenes, we used R to solve a system of simultaneous linear equations quite painlessly\n$A*x=b$\n\n\n$$\\begin{equation*}\n\\mathbf{A} = \\left(\n\\begin{array}{ccc}\n1 & 1 & 1 & 1 \\\\\nPrev-1 & Prev & Prev-1 & Prev \\\\\nSens-1 & 0 & Sens & 0 \\\\\n0 & Spec & 0 & Spec-1  \\\\\n\\end{array} \\right)\n\\end{equation*}$$\n\n\n$$\\begin{equation*}\n\\mathbf{b} = \\left(\n\\begin{array}{ccc}\n1 \\\\\n0 \\\\\n0 \\\\\n0 \\\\\n\\end{array} \\right)\n\\end{equation*}$$\n\n\nIn R, the command is simple:  $$x \\leftarrow solve(A,b)$$\n\n\n--- \n\n## See the whole slidify page here: [Home Medical Tests] (http://www.w3schools.com)\n\nHere is one nifty piece of code that allows you to pull data from other sources without writing a separate function. This one can pull from a datastore or user input.\n\nIn this case, we simulate user selection of _Mammogram_, whose data already resides in the _test_ object. We pull the prevalence statistic. If the test were not to be found, it would use the user supplied value for prevalence.\n\n```{r inline_pull}\n\ninput$uite = \"Mammogram\"\n\noutput$uopr <- reactive({ifelse(input$uite == \"another\", input$uipr,\n                test[input$uite == test$test, \"prev\"])})\n\noutput$uopr   # display the prevalence of breast cancer in the general population\n\n```\n\n\n--- \n\n## Lessons Learned and Opportunities for Development\n\nShiny requires strict attention to compartmentalizing most data manipulation activity **outside** the shinyServer anonymous function.  Concentrate on data presentation in this code block.  \n\nEfficient operation of _server.R_ requires logical design.  Troubleshooting _ui.R_ requires wrangling lots of brackets and commas. \n\nThe **conditionalPanel** command is very useful for managing screen-space.  Hover help also helps a clean appearance. \n\nThe design could be expanded to capture user-entered data and to provide confidence intervals for these measures.\n\n",
    "created" : 1448233983483.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1765032018",
    "id" : "858307C9",
    "lastKnownWriteTime" : 1448284572,
    "path" : "~/Hadow/Clients/JHU-DST/repo/Medical_Test/slidify_project/index.Rmd",
    "project_path" : "slidify_project/index.Rmd",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_markdown"
}